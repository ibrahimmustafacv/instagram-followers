<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø²ÙŠØ§Ø¯Ø© Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù… Ù…ØªØ­Ø±ÙƒØ©</title>
<style>
  /* ... (Ø§Ø¨Ù‚Ù‰ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ù…Ø§Ø· CSS Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙƒÙ…Ø§ Ù‡ÙŠ) ... */

  /* Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
  .profile-pic-container {
    width: 80px;
    height: 80px;
    margin: 15px auto;
    border-radius: 50%;
    background: #f0f0f0;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border: 3px solid #e1306c;
    position: relative;
  }
  
  .profile-pic {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: none;
  }
  
  .profile-placeholder {
    font-size: 30px;
    color: #aaa;
  }
  
  .loading-spinner {
    position: absolute;
    width: 100%;
    height: 100%;
    background: rgba(255,255,255,0.7);
    display: none;
    align-items: center;
    justify-content: center;
  }
  
  .spinner {
    width: 30px;
    height: 30px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid #e1306c;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>
</head>
<body>

<!-- ... (Ø§Ø¨Ù‚Ù‰ Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± HTML Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙƒÙ…Ø§ Ù‡ÙŠ) ... -->

  <form id="orderForm" style="display:none;">
    <div class="profile-pic-container">
      <div class="profile-placeholder">ğŸ‘¤</div>
      <img src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ" class="profile-pic" id="profilePic">
      <div class="loading-spinner" id="loadingSpinner"><div class="spinner"></div></div>
    </div>
    
    <select id="followers-select" required>
      <!-- ... (Ø§Ø¨Ù‚Ù‰ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ÙƒÙ…Ø§ Ù‡ÙŠ) ... -->
    </select>

    <input type="text" id="username" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù…" required />

    <!-- ... (Ø§Ø¨Ù‚Ù‰ Ø¨Ù‚ÙŠØ© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙƒÙ…Ø§ Ù‡Ùˆ) ... -->
  </form>

<!-- ... (Ø§Ø¨Ù‚Ù‰ Ø¨Ù‚ÙŠØ© HTML ÙƒÙ…Ø§ Ù‡Ùˆ) ... -->

<script>
  // ... (Ø§Ø¨Ù‚Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙƒÙ…Ø§ Ù‡ÙŠ) ...

  // Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
  document.getElementById('username').addEventListener('input', function() {
    const username = this.value.trim();
    const profilePic = document.getElementById('profilePic');
    const placeholder = document.querySelector('.profile-placeholder');
    const loadingSpinner = document.getElementById('loadingSpinner');
    
    if (username.length > 0) {
      // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
      loadingSpinner.style.display = 'flex';
      profilePic.style.display = 'none';
      placeholder.style.display = 'none';
      
      // Ø¬Ù„Ø¨ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø¯Ù…Ø© Ø·Ø±Ù Ø«Ø§Ù„Ø«)
      fetchInstagramProfilePic(username)
        .then(imageUrl => {
          if (imageUrl) {
            profilePic.src = imageUrl;
            profilePic.style.display = 'block';
            placeholder.style.display = 'none';
          } else {
            profilePic.style.display = 'none';
            placeholder.style.display = 'block';
            placeholder.textContent = 'âŒ';
          }
          loadingSpinner.style.display = 'none';
        })
        .catch(() => {
          loadingSpinner.style.display = 'none';
          profilePic.style.display = 'none';
          placeholder.style.display = 'block';
          placeholder.textContent = 'âŒ';
        });
    } else {
      profilePic.style.display = 'none';
      placeholder.style.display = 'block';
      placeholder.textContent = 'ğŸ‘¤';
    }
  });

  // Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ù…Ù† Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù…
  async function fetchInstagramProfilePic(username) {
    // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ø°Ù‡ Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø© Ù„Ø£Ù† ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù… Ø§Ù„Ø±Ø³Ù…ÙŠØ© ØªØªØ·Ù„Ø¨ Ù…ØµØ§Ø¯Ù‚Ø©
    // ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø¯Ù…Ø© Ø·Ø±Ù Ø«Ø§Ù„Ø« Ù…Ø«Ù„ instagram.com Ø£Ùˆ Ù…ÙˆØ§Ù‚Ø¹ Ø£Ø®Ø±Ù‰ ØªÙˆÙØ± Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø©
    
    try {
      // Ù‡Ø°Ù‡ Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø³ÙŠØ·Ø© Ù„ÙƒÙ†Ù‡Ø§ Ù‚Ø¯ Ù„Ø§ ØªØ¹Ù…Ù„ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¨Ø³Ø¨Ø¨ Ø³ÙŠØ§Ø³Ø§Øª Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù…
      // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø³ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø¯Ù…Ø© API Ù…Ø¯ÙÙˆØ¹Ø© Ø£Ùˆ Ø­Ù„ Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ù‹Ø§
      
      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù… (Ù‚Ø¯ Ù„Ø§ ØªØ¹Ù…Ù„ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª)
      const response = await fetch(`https://www.instagram.com/${username}/?__a=1`);
      
      if (response.ok) {
        const data = await response.json();
        return data.graphql.user.profile_pic_url_hd;
      } else {
        // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø·Ù„Ø¨ØŒ Ù†Ø³ØªØ®Ø¯Ù… ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø£Ùˆ Ù†Ø¹ÙŠØ¯ null
        return `https://instagram.com/${username}/?__a=1`;
      }
    } catch (error) {
      console.error('Error fetching profile picture:', error);
      // Ø¨Ø¯ÙŠÙ„: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø¯Ù…Ø© Ø·Ø±Ù Ø«Ø§Ù„Ø« Ù…Ø«Ù„ picuki.com
      return `https://picuki.com/profile/${username}`;
    }
  }
</script>

</body>
</html>
